<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BIMAX Official</title>
  <style>
    body,html { margin:0; padding:0; height:100%; overflow-x:hidden; background:#000; }
    canvas { position:fixed; top:0; left:0; width:100%; height:100%; display:block; }
    section { height:100vh; display:flex; justify-content:center; align-items:center;
      font-family:Arial, sans-serif; font-size:3em; font-weight:bold; color:white; }
    #s1 { background:transparent; }
    #s2 { background:transparent; }
    #s3 { background:transparent; }
  </style>
</head>
<body>
  <canvas id="bg3d"></canvas>

  <section id="s1">WATER</section>
  <section id="s2">BUBBLES</section>
  <section id="s3">SILK</section>

  <!-- Three.js + GSAP CDN -->
  <script type="module">
    import * as THREE from "https://unpkg.com/three@0.158.0/build/three.module.js";
    import { FontLoader } from "https://unpkg.com/three@0.158.0/examples/jsm/loaders/FontLoader.js";
    import { TextGeometry } from "https://unpkg.com/three@0.158.0/examples/jsm/geometries/TextGeometry.js";
    import gsap from "https://cdn.skypack.dev/gsap";
    import { ScrollTrigger } from "https://cdn.skypack.dev/gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    // Renderer & Scene
    const canvas = document.getElementById("bg3d");
    const renderer = new THREE.WebGLRenderer({canvas, antialias:true, alpha:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 0.1, 100);
    camera.position.set(0, 1, 6);

    // Lights
    const ambient = new THREE.AmbientLight(0xffffff, 0.5);
    scene.add(ambient);
    const point = new THREE.PointLight(0x88ddff, 1.2, 50);
    point.position.set(3,3,5);
    scene.add(point);

    // Background sphere
    const bgGeo = new THREE.SphereGeometry(50, 64, 64);
    const bgMat = new THREE.MeshBasicMaterial({ color:0x0ea5e9, side:THREE.BackSide });
    const bgMesh = new THREE.Mesh(bgGeo, bgMat);
    scene.add(bgMesh);

    // Logo
    let logoMesh;
    new FontLoader().load("https://unpkg.com/three@0.158.0/examples/fonts/helvetiker_bold.typeface.json", font=>{
      const geo = new TextGeometry("BIMAX", { font, size:1, height:0.3 });
      const mat = new THREE.MeshStandardMaterial({ color:0x7cc6ff, metalness:0.8, roughness:0.2 });
      logoMesh = new THREE.Mesh(geo, mat);
      logoMesh.position.set(-2.5, 0, 0);
      scene.add(logoMesh);
    });

    // Animations
    const toWater = ()=> gsap.to(bgMat.color, { r:0.1, g:0.65, b:0.9, duration:1 });
    const toBubbles = ()=> gsap.to(bgMat.color, { r:0.5, g:0.8, b:1, duration:1 });
    const toSilk = ()=> gsap.to(bgMat.color, { r:1, g:0.85, b:0.75, duration:1 });

    ScrollTrigger.create({ trigger:"#s1", start:"top center", onEnter:toWater });
    ScrollTrigger.create({ trigger:"#s2", start:"top center", onEnter:toBubbles });
    ScrollTrigger.create({ trigger:"#s3", start:"top center", onEnter:toSilk });

    // Mouse light
    window.addEventListener("mousemove", e=>{
      point.position.x = (e.clientX / window.innerWidth - 0.5) * 10;
      point.position.y = -(e.clientY / window.innerHeight - 0.5) * 5 + 2;
    });

    // Resize
    window.addEventListener("resize", ()=>{
      renderer.setSize(window.innerWidth, window.innerHeight);
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
    });

    // Loop
    function animate(){
      requestAnimationFrame(animate);
      if(logoMesh){
        logoMesh.rotation.y += 0.01;
      }
      renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>
